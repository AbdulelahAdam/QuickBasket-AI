<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickBasket AI</title>
    <link rel="stylesheet" href="popup-styles.css">
</head>

<body>
    <div id="debugOverlay"
        style="position: fixed; top: 0; left: 0; right: 0; background: #000; color: #0f0; font-family: monospace; font-size: 10px; padding: 4px; z-index: 999999; max-height: 100px; overflow-y: auto; display: none;">
    </div>

    <div class="popup-container">
        <div class="auth-screen" id="authScreen">
            <div class="auth-header">
                <img src="icons/icon48.png" alt="QuickBasket AI" class="auth-logo">
                <h1 class="auth-title">QuickBasket AI</h1>
                <p class="auth-subtitle">Smart price tracking for savvy shoppers</p>
            </div>

            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab">Login</button>
                <button class="auth-tab" id="registerTab">Register</button>
            </div>

            <form class="auth-form" id="authForm">
                <div class="form-group">
                    <label for="emailInput" class="form-label">Email</label>
                    <input type="email" id="emailInput" class="form-input" placeholder="you@example.com"
                        autocomplete="email" required>
                    <span class="form-error" id="emailError"></span>
                </div>

                <div class="form-group">
                    <label for="passwordInput" class="form-label">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="passwordInput" class="form-input" placeholder="Enter your password"
                            autocomplete="current-password" required>
                        <button type="button" class="password-toggle" id="passwordToggle">
                        </button>
                    </div>
                    <span class="form-error" id="passwordError"></span>
                    <div class="password-strength" id="passwordStrength"></div>
                </div>

                <button type="submit" class="btn-primary" id="submitBtn">
                    <span class="btn-text" id="submitBtnText">Login</span>
                    <span class="btn-loader" id="submitLoader"></span>
                </button>

                <div class="auth-footer">
                    <a href="#" class="auth-link" id="forgotPassword">Forgot password?</a>
                </div>
            </form>

            <div class="auth-message" id="authMessage"></div>
        </div>

        <div class="main-screen" id="mainScreen">
            <div class="main-header">
                <div class="user-badge">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-info">
                        <span class="user-email" id="userEmail"></span>
                        <a href="#" class="logout-link" id="logoutBtn">Logout</a>
                    </div>
                </div>
            </div>

            <div class="main-content">
                <h2 class="content-title">Track this product</h2>

                <div class="product-preview" id="productPreview">
                    <div class="preview-skeleton" id="previewSkeleton">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-text"></div>
                        <div class="skeleton-price"></div>
                    </div>
                    <div class="preview-content" id="previewContent" style="display: none;">
                        <img id="productImage" alt="Product" class="preview-image">
                        <h3 id="productName" class="preview-name"></h3>
                        <p id="productPrice" class="preview-price"></p>
                    </div>
                </div>

                <button class="btn-track" id="trackBtn">
                    <span id="trackBtnText">Track This Product</span>
                </button>

                <div class="status-message" id="statusMessage"></div>
            </div>

            <div class="main-footer">
                <a href="#" class="footer-link" id="dashboardLink">View Dashboard</a>
            </div>
        </div>
    </div>

    <script src="extension-config.js"></script>
    <script src="auth.js"></script>
    <script src="popup.js"></script>
</body>

</html>